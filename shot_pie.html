<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shooting Record - Statistics</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <h1 style="margin:20px; display: block; text-align: center;">Pie Graph of shots</h1>
        <div id="chartdiv2" style="margin: 10px;" class="container" >
            
        </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.plot.ly/plotly-2.6.3.min.js"></script>
    <script>
        let data = {
            values : [],
            labels : [],
            type : 'pie',
            textinfo : "label+percent",
            insidetextorientation: "radial",
        }
        let playerinfo = JSON.parse(localStorage.getItem('playerinfo'));
        let recorded = JSON.parse(localStorage.getItem('recorded'));

        for(let i=0; i<Object.keys(playerinfo).length; i++){
            let num = Object.keys(playerinfo)[i];
            let name = playerinfo[num];
            let count=0;
            for(let j=1; j<=Object.keys(recorded).length; j++){
                if(recorded[j].name==name){
                    count +=1;
                }
            }
            data.values.push(count);
            data.labels.push(name);
        }

        let layout = {
            height : 700,
            width : 700,
            showlegend : true,
            legend : {
                x:30,
                y:0.5
            },
        }
        Plotly.newPlot('chartdiv2', [data], layout);
    </script>
</html>
</body>
</html>
